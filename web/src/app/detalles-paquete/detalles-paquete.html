<div *ngIf="cargando" class="detalles-cargando">Cargando...</div>
<div *ngIf="!cargando && paquete" class="detalles-paquete-grid">
  <div class="carrusel-col">
    <div class="carrusel-foto-wrapper fade-in">
      <img
        class="carrusel-foto"
        *ngIf="paquete.imagenes.length > 0"
        [src]="paquete.imagenes[fotoActual]?.imagen_url"
        [alt]="paquete.imagenes[fotoActual]?.descripcion || paquete.nombre"
      />
      <img
        class="carrusel-foto"
        *ngIf="paquete.imagenes.length === 0"
        [src]="predeterminadaUrl"
        [alt]="paquete.nombre"
      />
      <div class="carrusel-controles">
        <button
          class="carrusel-flecha"
          (click)="cambiarFoto(-1)"
          [disabled]="fotoActual === 0"
          aria-label="Anterior"
        >‹</button>
        <span class="carrusel-contador">
          {{ fotoActual + 1 }}/{{ paquete.imagenes.length }}
        </span>
        <button
          class="carrusel-flecha"
          (click)="cambiarFoto(1)"
          [disabled]="fotoActual === paquete.imagenes.length - 1"
          aria-label="Siguiente"
        >›</button>
      </div>
      <div class="carrusel-desc" *ngIf="paquete.imagenes[fotoActual]?.descripcion">
        {{ paquete.imagenes[fotoActual]?.descripcion }}
      </div>
    </div>
  </div>
  <div class="info-col slide-in">
    <div class="info-texto">
      <h1 class="titulo">{{ paquete.nombre }}</h1>
      <p class="descripcion">
        {{ paquete.descripcion }}<br><br>
        Este viaje tiene una duración de <b>{{ paquete.duracion_dias }} días</b>, pensados para que disfrutes al máximo cada experiencia y cada destino incluido en el itinerario.<br><br>
        El precio base es de <b>{{ paquete.precio_base }} €</b> por persona, una oportunidad perfecta para vivir una aventura inolvidable sin preocuparte por los detalles.<br><br>
        El grupo está limitado a <b>{{ paquete.cupo_maximo }} plazas</b>, asegurando un ambiente cómodo y exclusivo para todos los viajeros. <br><br>
        El paquete está <b [ngStyle]="{color: paquete.estado === 'Activo' ? '#2d7d5f' : '#888'}">{{ paquete.estado | lowercase }}</b>.
      </p>
    </div>
  </div>
</div>
<div *ngIf="!cargando && !paquete" class="detalles-error">
  No se encontró el paquete.
</div>